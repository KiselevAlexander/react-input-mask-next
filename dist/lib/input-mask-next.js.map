{"version":3,"file":"input-mask-next.js","sources":["../src/constants.js","../src/validate-props.js","../src/helpers.js","../src/parse-mask.js","../src/mask.js","../src/defer.js","../src/input.js","../src/hooks.js","../src/index.js"],"sourcesContent":["export var CONTROLLED_PROPS = [\n    \"disabled\",\n    \"onBlur\",\n    \"onChange\",\n    \"onFocus\",\n    \"onMouseDown\",\n    \"readOnly\",\n    \"value\"\n];\nexport var defaultFormatChars = {\n    \"9\": /[0-9]/,\n    a: /[A-Za-z]/,\n    \"*\": /[A-Za-z0-9]/\n};\n//# sourceMappingURL=constants.js.map","import invariant from \"invariant\";\nimport warning from \"warning\";\nimport { CONTROLLED_PROPS } from \"./constants\";\nimport * as React from 'react';\nexport function validateMaxLength(props) {\n    warning(!props.maxLength || !props.mask, \"react-input-mask-ts: maxLength property shouldn't be passed to the masked input. It breaks masking and unnecessary because length is limited by the mask length.\");\n}\nexport function validateMaskPlaceholder(props) {\n    var mask = props.mask, maskPlaceholder = props.maskPlaceholder;\n    invariant(!mask ||\n        !maskPlaceholder ||\n        maskPlaceholder.length === 1 ||\n        maskPlaceholder.length === mask.length, \"react-input-mask-ts: maskPlaceholder should either be a single character or have the same length as the mask:\\n\" +\n        \"mask: \".concat(mask, \"\\n\") +\n        \"maskPlaceholder: \".concat(maskPlaceholder));\n}\nexport function validateChildren(props, children) {\n    var inputElement = React.Children.only(children);\n    var conflictProps = CONTROLLED_PROPS.filter(function (propId) {\n        return inputElement.props[propId] != null &&\n            propId in props &&\n            inputElement.props[propId] !== props[propId];\n    });\n    invariant(!conflictProps.length, \"react-input-mask-ts: the following props should be passed to the InputMask component, not to children: \".concat(conflictProps.join(\",\")));\n}\n//# sourceMappingURL=validate-props.js.map","export function getElementDocument(element) {\n    return element === null || element === void 0 ? void 0 : element.ownerDocument;\n}\nexport function getElementWindow(element) {\n    var _a;\n    return (_a = getElementDocument(element)) === null || _a === void 0 ? void 0 : _a.defaultView;\n}\nexport function isDOMElement(element) {\n    var elementWindow = getElementWindow(element);\n    return !!elementWindow && element instanceof elementWindow.HTMLElement;\n}\nexport function findLastIndex(array, predicate) {\n    for (var i = array.length - 1; i >= 0; i--) {\n        var x = array[i];\n        if (predicate(x, i)) {\n            return i;\n        }\n    }\n    return -1;\n}\nexport function repeat(string, n) {\n    if (n === void 0) { n = 1; }\n    var result = \"\";\n    for (var i = 0; i < n; i++) {\n        result += string;\n    }\n    return result;\n}\nexport function anyToString(value) {\n    return \"\".concat(value);\n}\n//# sourceMappingURL=helpers.js.map","import { defaultFormatChars } from \"./constants\";\nexport default function (_a) {\n    var mask = _a.mask, maskPlaceholder = _a.maskPlaceholder;\n    var permanents = [];\n    if (!mask) {\n        return {\n            maskPlaceholder: null,\n            mask: null,\n            prefix: null,\n            lastEditablePosition: null,\n            permanents: []\n        };\n    }\n    if (typeof mask === \"string\") {\n        var isPermanent_1 = false;\n        var parsedMaskString_1 = \"\";\n        mask.split(\"\").forEach(function (character) {\n            if (!isPermanent_1 && character === \"\\\\\") {\n                isPermanent_1 = true;\n            }\n            else {\n                if (isPermanent_1 || !defaultFormatChars[character]) {\n                    permanents.push(parsedMaskString_1.length);\n                }\n                parsedMaskString_1 += character;\n                isPermanent_1 = false;\n            }\n        });\n        mask = parsedMaskString_1.split(\"\").map(function (character, index) {\n            if (permanents.indexOf(index) === -1) {\n                return defaultFormatChars[character];\n            }\n            return character;\n        });\n    }\n    else {\n        mask.forEach(function (character, index) {\n            if (typeof character === \"string\") {\n                permanents.push(index);\n            }\n        });\n    }\n    if (maskPlaceholder) {\n        if (maskPlaceholder.length === 1) {\n            maskPlaceholder = mask.map(function (character, index) {\n                if (permanents.indexOf(index) !== -1) {\n                    return character;\n                }\n                return maskPlaceholder;\n            });\n        }\n        else {\n            maskPlaceholder = maskPlaceholder.split(\"\");\n        }\n        permanents.forEach(function (position) {\n            maskPlaceholder[position] = mask[position];\n        });\n        maskPlaceholder = maskPlaceholder.join(\"\");\n    }\n    var prefix = permanents\n        .filter(function (position, index) { return position === index; })\n        .map(function (position) { return mask[position]; })\n        .join(\"\");\n    var lastEditablePosition = mask.length - 1;\n    while (permanents.indexOf(lastEditablePosition) !== -1) {\n        lastEditablePosition--;\n    }\n    return {\n        maskPlaceholder: maskPlaceholder,\n        prefix: prefix,\n        mask: mask,\n        lastEditablePosition: lastEditablePosition,\n        permanents: permanents\n    };\n}\n//# sourceMappingURL=parse-mask.js.map","/* eslint no-use-before-define: [\"error\", { functions: false }] */\nimport { findLastIndex, repeat } from \"./helpers\";\nimport parseMask from \"./parse-mask\";\nvar MaskUtils = /** @class */ (function () {\n    function MaskUtils(options) {\n        var _this = this;\n        this.isCharacterAllowedAtPosition = function (character, position) {\n            var maskPlaceholder = _this.maskOptions.maskPlaceholder;\n            if (_this.isCharacterFillingPosition(character, position)) {\n                return true;\n            }\n            if (!maskPlaceholder) {\n                return false;\n            }\n            return maskPlaceholder[position] === character;\n        };\n        this.isCharacterFillingPosition = function (character, position) {\n            var mask = _this.maskOptions.mask;\n            if (!character || position >= mask.length) {\n                return false;\n            }\n            if (!_this.isPositionEditable(position)) {\n                return mask[position] === character;\n            }\n            var charRule = mask[position];\n            return new RegExp(charRule).test(character);\n        };\n        this.isPositionEditable = function (position) {\n            var _a = _this.maskOptions, mask = _a.mask, permanents = _a.permanents;\n            return position < mask.length && permanents.indexOf(position) === -1;\n        };\n        this.isValueEmpty = function (value) {\n            return value.split(\"\").every(function (character, position) {\n                return (!_this.isPositionEditable(position) ||\n                    !_this.isCharacterFillingPosition(character, position));\n            });\n        };\n        this.isValueFilled = function (value) {\n            return (_this.getFilledLength(value) === (_this.maskOptions.lastEditablePosition || 0) + 1);\n        };\n        this.getDefaultSelectionForValue = function (value) {\n            var filledLength = _this.getFilledLength(value);\n            var cursorPosition = _this.getRightEditablePosition(filledLength);\n            return { start: cursorPosition, end: cursorPosition };\n        };\n        this.getFilledLength = function (value) {\n            var characters = value.split(\"\");\n            var lastFilledIndex = findLastIndex(characters, function (character, position) {\n                return (_this.isPositionEditable(position) &&\n                    _this.isCharacterFillingPosition(character, position));\n            });\n            return lastFilledIndex + 1;\n        };\n        this.getStringFillingLengthAtPosition = function (string, position) {\n            var characters = string.split(\"\");\n            var insertedValue = characters.reduce(function (value, character) {\n                return _this.insertCharacterAtPosition(value, character, value.length);\n            }, repeat(\" \", position));\n            return insertedValue.length - position;\n        };\n        this.getLeftEditablePosition = function (position) {\n            for (var i = position; i >= 0; i--) {\n                if (_this.isPositionEditable(i)) {\n                    return i;\n                }\n            }\n            return null;\n        };\n        this.getRightEditablePosition = function (position) {\n            var mask = _this.maskOptions.mask;\n            for (var i = position; i < mask.length; i++) {\n                if (_this.isPositionEditable(i)) {\n                    return i;\n                }\n            }\n            return null;\n        };\n        this.formatValue = function (value) {\n            var _a = _this.maskOptions, maskPlaceholder = _a.maskPlaceholder, mask = _a.mask;\n            if (!maskPlaceholder) {\n                value = _this.insertStringAtPosition(\"\", value, 0);\n                while (value.length < mask.length &&\n                    !_this.isPositionEditable(value.length)) {\n                    value += mask[value.length];\n                }\n                return value;\n            }\n            return _this.insertStringAtPosition(maskPlaceholder, value, 0);\n        };\n        this.clearRange = function (value, start, len) {\n            if (!len) {\n                return value;\n            }\n            var end = start + len;\n            var _a = _this.maskOptions, maskPlaceholder = _a.maskPlaceholder, mask = _a.mask;\n            var clearedValue = value\n                .split(\"\")\n                .map(function (character, i) {\n                var isEditable = _this.isPositionEditable(i);\n                if (!maskPlaceholder && i >= end && !isEditable) {\n                    return \"\";\n                }\n                if (i < start || i >= end) {\n                    return character;\n                }\n                if (!isEditable) {\n                    return mask[i];\n                }\n                if (maskPlaceholder) {\n                    return maskPlaceholder[i];\n                }\n                return \"\";\n            })\n                .join(\"\");\n            return _this.formatValue(clearedValue);\n        };\n        this.insertCharacterAtPosition = function (value, character, position) {\n            var _a = _this.maskOptions, mask = _a.mask, maskPlaceholder = _a.maskPlaceholder;\n            if (position >= mask.length) {\n                return value;\n            }\n            var isAllowed = _this.isCharacterAllowedAtPosition(character, position);\n            var isEditable = _this.isPositionEditable(position);\n            var nextEditablePosition = _this.getRightEditablePosition(position);\n            var isNextPlaceholder = maskPlaceholder && nextEditablePosition\n                ? character === maskPlaceholder[nextEditablePosition]\n                : null;\n            var valueBefore = value.slice(0, position);\n            if (isAllowed || !isEditable) {\n                var insertedCharacter = isAllowed ? character : mask[position];\n                value = valueBefore + insertedCharacter;\n            }\n            if (!isAllowed && !isEditable && !isNextPlaceholder) {\n                value = _this.insertCharacterAtPosition(value, character, position + 1);\n            }\n            return value;\n        };\n        this.insertStringAtPosition = function (value, string, position) {\n            var _a = _this.maskOptions, mask = _a.mask, maskPlaceholder = _a.maskPlaceholder;\n            if (!string || position >= mask.length) {\n                return value;\n            }\n            var characters = string.split(\"\");\n            var isFixedLength = _this.isValueFilled(value) || !!maskPlaceholder;\n            var valueAfter = value.slice(position);\n            value = characters.reduce(function (value, character) {\n                return _this.insertCharacterAtPosition(value, character, value.length);\n            }, value.slice(0, position));\n            if (isFixedLength) {\n                value += valueAfter.slice(value.length - position);\n            }\n            else if (_this.isValueFilled(value)) {\n                value += mask.slice(value.length).join(\"\");\n            }\n            else {\n                var editableCharactersAfter = valueAfter\n                    .split(\"\")\n                    .filter(function (character, i) {\n                    return _this.isPositionEditable(position + i);\n                });\n                value = editableCharactersAfter.reduce(function (value, character) {\n                    var nextEditablePosition = _this.getRightEditablePosition(value.length);\n                    if (nextEditablePosition === null) {\n                        return value;\n                    }\n                    if (!_this.isPositionEditable(value.length)) {\n                        value += mask.slice(value.length, nextEditablePosition).join(\"\");\n                    }\n                    return _this.insertCharacterAtPosition(value, character, value.length);\n                }, value);\n            }\n            return value;\n        };\n        this.processChange = function (currentState, previousState) {\n            var _a = _this.maskOptions, mask = _a.mask, prefix = _a.prefix, lastEditablePosition = _a.lastEditablePosition;\n            var value = currentState.value, selection = currentState.selection;\n            var previousValue = previousState.value;\n            var previousSelection = previousState.selection;\n            var newValue = value;\n            var enteredString = \"\";\n            var formattedEnteredStringLength = 0;\n            var removedLength = 0;\n            var cursorPosition = Math.min(previousSelection.start, selection.start);\n            if (selection.end > previousSelection.start) {\n                enteredString = newValue.slice(previousSelection.start, selection.end);\n                formattedEnteredStringLength = _this.getStringFillingLengthAtPosition(enteredString, cursorPosition);\n                if (!formattedEnteredStringLength) {\n                    removedLength = 0;\n                }\n                else {\n                    removedLength = previousSelection.length;\n                }\n            }\n            else if (newValue.length < previousValue.length) {\n                removedLength = previousValue.length - newValue.length;\n            }\n            newValue = previousValue;\n            if (removedLength) {\n                if (removedLength === 1 && !previousSelection.length) {\n                    var deleteFromRight = previousSelection.start === selection.start;\n                    cursorPosition = deleteFromRight\n                        ? _this.getRightEditablePosition(selection.start)\n                        : _this.getLeftEditablePosition(selection.start);\n                }\n                newValue = _this.clearRange(newValue, cursorPosition, removedLength);\n            }\n            newValue = _this.insertStringAtPosition(newValue, enteredString, cursorPosition);\n            cursorPosition += formattedEnteredStringLength;\n            if (cursorPosition >= mask.length) {\n                cursorPosition = mask.length;\n            }\n            else if (cursorPosition < prefix.length &&\n                !formattedEnteredStringLength) {\n                cursorPosition = prefix.length;\n            }\n            else if (cursorPosition >= prefix.length &&\n                cursorPosition < lastEditablePosition &&\n                formattedEnteredStringLength) {\n                cursorPosition = _this.getRightEditablePosition(cursorPosition);\n            }\n            newValue = _this.formatValue(newValue);\n            return {\n                value: newValue,\n                enteredString: enteredString,\n                selection: { start: cursorPosition, end: cursorPosition }\n            };\n        };\n        this.maskOptions = parseMask(options);\n    }\n    return MaskUtils;\n}());\nexport default MaskUtils;\n//# sourceMappingURL=mask.js.map","export function defer(fn) {\n    return requestAnimationFrame(fn);\n}\nexport function cancelDefer(deferId) {\n    cancelAnimationFrame(deferId);\n}\n//# sourceMappingURL=defer.js.map","export function setInputSelection(input, start, end) {\n    if (end === undefined) {\n        end = start;\n    }\n    input.setSelectionRange(start, end);\n}\nexport function getInputSelection(input) {\n    var start = input === null || input === void 0 ? void 0 : input.selectionStart;\n    var end = input === null || input === void 0 ? void 0 : input.selectionEnd;\n    return {\n        start: start || null,\n        end: end || null,\n        length: end - start\n    };\n}\nexport function isInputFocused(input) {\n    var inputDocument = input.ownerDocument;\n    return inputDocument.hasFocus() && inputDocument.activeElement === input;\n}\n//# sourceMappingURL=input.js.map","import { useCallback, useEffect, useLayoutEffect, useRef } from \"react\";\nimport { defer, cancelDefer } from \"./defer\";\nimport { setInputSelection, getInputSelection, isInputFocused } from \"./input\";\nimport { isDOMElement } from \"./helpers\";\nexport function useInputElement(inputRef) {\n    return useCallback(function () {\n        var input = inputRef.current;\n        var isDOMNode = typeof window !== \"undefined\" && isDOMElement(input);\n        if (!input || !isDOMNode) {\n            return null;\n        }\n        if (input.nodeName !== \"INPUT\") {\n            var innerInput = input.querySelector(\"input\");\n            if (!innerInput) {\n                if (typeof window !== \"undefined\") {\n                    throw new Error(\"react-input-mask-ts: inputComponent must be rendered in DOM environment\");\n                }\n                return;\n            }\n            input = innerInput;\n        }\n        if (!input) {\n            throw new Error(\"react-input-mask-ts: inputComponent doesn't contain input node\");\n        }\n        return input;\n    }, [inputRef]);\n}\nfunction useDeferLoop(callback) {\n    var deferIdRef = useRef(null);\n    var runLoop = useCallback(function () {\n        // If there are simulated focus events, runLoop could be\n        // called multiple times without blur or re-render\n        if (deferIdRef.current !== null) {\n            return;\n        }\n        function loop() {\n            callback();\n            deferIdRef.current = defer(loop);\n        }\n        loop();\n    }, [callback]);\n    var stopLoop = useCallback(function () {\n        cancelDefer(deferIdRef.current);\n        deferIdRef.current = null;\n    }, []);\n    useEffect(function () {\n        if (deferIdRef.current) {\n            stopLoop();\n            runLoop();\n        }\n    }, [runLoop, stopLoop]);\n    useEffect(cancelDefer, []);\n    return [runLoop, stopLoop];\n}\nfunction useSelection(inputRef, isMasked) {\n    var selectionRef = useRef({ start: null, end: null });\n    var getInputElement = useInputElement(inputRef);\n    var getSelection = useCallback(function () {\n        var input = getInputElement();\n        return getInputSelection(input);\n    }, [getInputElement]);\n    var getLastSelection = useCallback(function () {\n        return selectionRef.current;\n    }, []);\n    var setSelection = useCallback(function (selection) {\n        var input = getInputElement();\n        // Don't change selection on unfocused input\n        // because Safari sets focus on selection change (#154)\n        if (!input || !isInputFocused(input)) {\n            return;\n        }\n        setInputSelection(input, selection.start, selection.end);\n        // Use actual selection in case the requested one was out of range\n        selectionRef.current = getSelection();\n    }, [getInputElement, getSelection]);\n    var selectionLoop = useCallback(function () {\n        selectionRef.current = getSelection();\n    }, [getSelection]);\n    var _a = useDeferLoop(selectionLoop), runSelectionLoop = _a[0], stopSelectionLoop = _a[1];\n    useLayoutEffect(function () {\n        if (!isMasked) {\n            return;\n        }\n        var input = getInputElement();\n        input.addEventListener(\"focus\", runSelectionLoop);\n        input.addEventListener(\"blur\", stopSelectionLoop);\n        if (isInputFocused(input)) {\n            runSelectionLoop();\n        }\n        return function () {\n            input.removeEventListener(\"focus\", runSelectionLoop);\n            input.removeEventListener(\"blur\", stopSelectionLoop);\n            stopSelectionLoop();\n        };\n    });\n    return { getSelection: getSelection, getLastSelection: getLastSelection, setSelection: setSelection };\n}\nfunction useValue(inputRef, initialValue) {\n    var getInputElement = useInputElement(inputRef);\n    var valueRef = useRef(initialValue);\n    var getValue = useCallback(function () {\n        var input = getInputElement();\n        return input.value;\n    }, [getInputElement]);\n    var getLastValue = useCallback(function () {\n        return valueRef.current;\n    }, []);\n    var setValue = useCallback(function (newValue) {\n        valueRef.current = newValue;\n        var input = getInputElement();\n        if (input) {\n            input.value = newValue;\n        }\n    }, [getInputElement]);\n    return {\n        getValue: getValue,\n        getLastValue: getLastValue,\n        setValue: setValue\n    };\n}\nexport function useInputState(initialValue, isMasked, inputRef) {\n    var _a = useSelection(inputRef, isMasked), getSelection = _a.getSelection, getLastSelection = _a.getLastSelection, setSelection = _a.setSelection;\n    var _b = useValue(inputRef, initialValue), getValue = _b.getValue, getLastValue = _b.getLastValue, setValue = _b.setValue;\n    function getLastInputState() {\n        return {\n            value: getLastValue(),\n            selection: getLastSelection()\n        };\n    }\n    function getInputState() {\n        return {\n            value: getValue(),\n            selection: getSelection()\n        };\n    }\n    function setInputState(_a) {\n        var value = _a.value, selection = _a.selection;\n        setValue(value);\n        setSelection(selection);\n    }\n    return {\n        inputRef: inputRef,\n        getInputState: getInputState,\n        getLastInputState: getLastInputState,\n        setInputState: setInputState\n    };\n}\nexport function usePrevious(value) {\n    var ref = useRef(false);\n    useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n}\n//# sourceMappingURL=hooks.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useImperativeHandle, useLayoutEffect, useRef, } from 'react';\nimport { validateChildren, validateMaskPlaceholder, validateMaxLength } from './validate-props';\nimport MaskUtils from './mask';\nimport { useInputElement, useInputState, usePrevious } from './hooks';\nimport { getElementDocument, anyToString } from './helpers';\nimport * as React from 'react';\nimport { defer } from './defer';\nimport { isInputFocused } from './input';\nexport function InputMask(props) {\n    var ref = props.ref, children = props.children, mask = props.mask, beforeMaskedStateChange = props.beforeMaskedStateChange, _a = props.alwaysShowMask, alwaysShowMask = _a === void 0 ? false : _a, _b = props.maskPlaceholder, maskPlaceholder = _b === void 0 ? '_' : _b, restProps = __rest(props, [\"ref\", \"children\", \"mask\", \"beforeMaskedStateChange\", \"alwaysShowMask\", \"maskPlaceholder\"]);\n    var inputElementRef = useRef(null);\n    useImperativeHandle(ref, function () { return inputElementRef.current; }, []);\n    validateMaxLength(props);\n    validateMaskPlaceholder(props);\n    var maskUtils = new MaskUtils({ mask: mask, maskPlaceholder: maskPlaceholder });\n    var isMasked = !!mask;\n    var isEditable = !restProps.disabled && !restProps.readOnly;\n    var isControlled = props.value !== null && props.value !== undefined;\n    var previousIsMasked = usePrevious(isMasked);\n    var initialValue = anyToString((isControlled ? props.value : props.defaultValue) || \"\");\n    var _c = useInputState(initialValue, isMasked, inputElementRef), getInputState = _c.getInputState, setInputState = _c.setInputState, getLastInputState = _c.getLastInputState;\n    var getInputElement = useInputElement(inputElementRef);\n    function onChange(event) {\n        var currentState = getInputState();\n        var previousState = getLastInputState();\n        var newInputState = maskUtils.processChange(currentState, previousState);\n        if (beforeMaskedStateChange) {\n            newInputState = beforeMaskedStateChange({\n                currentState: currentState,\n                previousState: previousState,\n                nextState: newInputState\n            });\n        }\n        setInputState(newInputState);\n        if (props.onChange) {\n            props.onChange(event);\n        }\n    }\n    function onFocus(event) {\n        // If autoFocus property is set, focus event fires before the ref handler gets called\n        if (!inputElementRef.current) {\n            inputElementRef.current = event.target;\n        }\n        var currentValue = getInputState().value;\n        if (isMasked && !maskUtils.isValueFilled(currentValue)) {\n            var newValue = maskUtils.formatValue(currentValue);\n            var newSelection = maskUtils.getDefaultSelectionForValue(newValue);\n            var newInputState = {\n                value: newValue,\n                selection: newSelection,\n            };\n            if (beforeMaskedStateChange) {\n                newInputState = beforeMaskedStateChange({\n                    currentState: getInputState(),\n                    nextState: newInputState,\n                });\n                newValue = newInputState.value;\n            }\n            setInputState(newInputState);\n            if (newValue !== currentValue && props.onChange) {\n                props.onChange(event);\n            }\n            // Chrome resets selection after focus event,\n            // so we want to restore it later\n            defer(function () {\n                setInputState(getLastInputState());\n            });\n        }\n        if (props.onFocus) {\n            props.onFocus(event);\n        }\n    }\n    function onBlur(event) {\n        var currentValue = getInputState().value;\n        var lastValue = getLastInputState().value;\n        if (isMasked && !alwaysShowMask && maskUtils.isValueEmpty(lastValue)) {\n            var newValue = \"\";\n            var newInputState = {\n                value: newValue,\n                selection: { start: null, end: null },\n            };\n            if (beforeMaskedStateChange) {\n                newInputState = beforeMaskedStateChange({\n                    currentState: getInputState(),\n                    nextState: newInputState,\n                });\n                newValue = newInputState.value;\n            }\n            setInputState(newInputState);\n            if (newValue !== currentValue && props.onChange) {\n                props.onChange(event);\n            }\n        }\n        if (props.onBlur) {\n            props.onBlur(event);\n        }\n    }\n    // Tiny unintentional mouse movements can break cursor\n    // position on focus, so we have to restore it in that case\n    //\n    // https://github.com/sanniassin/react-input-mask/issues/108\n    function onMouseDown(event) {\n        var input = getInputElement();\n        if (!input) {\n            return;\n        }\n        var value = getInputState().value;\n        var inputDocument = getElementDocument(input);\n        if (!isInputFocused(input) && !maskUtils.isValueFilled(value)) {\n            var mouseDownX_1 = event.clientX;\n            var mouseDownY_1 = event.clientY;\n            var mouseDownTime_1 = new Date().getTime();\n            var mouseUpHandler_1 = function (mouseUpEvent) {\n                inputDocument.removeEventListener(\"mouseup\", mouseUpHandler_1);\n                if (!isInputFocused(input)) {\n                    return;\n                }\n                var deltaX = Math.abs(mouseUpEvent.clientX - mouseDownX_1);\n                var deltaY = Math.abs(mouseUpEvent.clientY - mouseDownY_1);\n                var axisDelta = Math.max(deltaX, deltaY);\n                var timeDelta = new Date().getTime() - mouseDownTime_1;\n                if ((axisDelta <= 10 && timeDelta <= 200) ||\n                    (axisDelta <= 5 && timeDelta <= 300)) {\n                    var lastState_1 = getLastInputState();\n                    var newSelection = maskUtils.getDefaultSelectionForValue(lastState_1.value);\n                    var newState = __assign(__assign({}, lastState_1), { selection: newSelection });\n                    setInputState(newState);\n                }\n            };\n            inputDocument.addEventListener(\"mouseup\", mouseUpHandler_1);\n        }\n        if (props.onMouseDown) {\n            props.onMouseDown(event);\n        }\n    }\n    // For controlled inputs we want to provide properly formatted\n    // value prop\n    if (isMasked && isControlled) {\n        var input = getInputElement();\n        var isFocused = input && isInputFocused(input);\n        var newValue = isFocused || alwaysShowMask || props.value\n            ? maskUtils.formatValue(props.value)\n            : props.value;\n        if (beforeMaskedStateChange) {\n            newValue = beforeMaskedStateChange({\n                nextState: {\n                    value: newValue,\n                    selection: {\n                        start: null,\n                        end: null,\n                    },\n                },\n            }).value;\n        }\n        setInputState(__assign(__assign({}, getLastInputState()), { value: newValue }));\n    }\n    var lastState = getLastInputState();\n    var lastSelection = lastState.selection;\n    var lastValue = lastState.value;\n    useLayoutEffect(function () {\n        if (!isMasked) {\n            return;\n        }\n        var input = getInputElement();\n        if (!input) {\n            return;\n        }\n        var isFocused = isInputFocused(input);\n        var previousSelection = lastSelection;\n        var currentState = getInputState();\n        var newInputState = __assign({}, currentState);\n        // Update value for uncontrolled inputs to make sure\n        // it's always in sync with mask props\n        if (!isControlled) {\n            var currentValue = currentState.value;\n            var formattedValue = maskUtils.formatValue(currentValue);\n            var isValueEmpty = maskUtils.isValueEmpty(formattedValue);\n            var shouldFormatValue = !isValueEmpty || isFocused || alwaysShowMask;\n            if (shouldFormatValue) {\n                newInputState.value = formattedValue;\n            }\n            else if (isValueEmpty && !isFocused) {\n                newInputState.value = \"\";\n            }\n        }\n        if (isFocused && !previousIsMasked) {\n            // Adjust selection if input got masked while being focused\n            newInputState.selection = maskUtils.getDefaultSelectionForValue(newInputState.value);\n        }\n        else if (isControlled && isFocused && previousSelection) {\n            // Restore cursor position if value has changed outside change event\n            if (previousSelection.start !== null && previousSelection.end !== null) {\n                newInputState.selection = previousSelection;\n            }\n        }\n        if (beforeMaskedStateChange) {\n            newInputState = beforeMaskedStateChange({\n                currentState: currentState,\n                nextState: newInputState,\n            });\n        }\n        setInputState(newInputState);\n    });\n    var inputProps = __assign(__assign({}, restProps), { onFocus: onFocus, onBlur: onBlur, onChange: isMasked && isEditable ? onChange : props.onChange, onMouseDown: isMasked && isEditable ? onMouseDown : props.onMouseDown, value: isMasked && isControlled ? lastValue : props.value });\n    if (children) {\n        validateChildren(props, children);\n        var onlyChild = React.Children.only(children);\n        return React.cloneElement(onlyChild, __assign(__assign({}, inputProps), { \n            // @ts-ignore\n            ref: inputElementRef }));\n    }\n    return _jsx(\"input\", __assign({ ref: inputElementRef, role: props.role || 'textbox' }, inputProps));\n}\nexport default InputMask;\n//# sourceMappingURL=index.js.map"],"names":["React","useCallback","useRef","useEffect","useLayoutEffect","this","useImperativeHandle","_jsx"],"mappings":"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"}